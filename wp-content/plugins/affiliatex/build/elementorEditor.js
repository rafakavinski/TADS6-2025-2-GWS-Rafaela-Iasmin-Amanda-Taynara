var affiliatexExports;(()=>{"use strict";var e={n:a=>{var i=a&&a.__esModule?()=>a.default:()=>a;return e.d(i,{a:i}),i},d:(a,i)=>{for(var t in i)e.o(i,t)&&!e.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:i[t]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a)};window.React;const a=window.ReactDOM;var i=e.n(a);const t=window.wp.data,o=window.affiliatexExports.blockComponents,n=window.wp.i18n,l=window.ReactJSXRuntime,d=()=>{const e=(0,t.useSelect)(e=>"upgrade-modal"===e("affiliatex").getActiveModal()),{setActiveModal:a}=(0,t.useDispatch)("affiliatex"),{modalType:i,isInserterOpen:d,blockTitle:r,demoSlug:f,modalTitle:s}=(0,t.useSelect)(e=>e("affiliatex").getUpgradeModal()),c=()=>{p(),a("")},p=()=>{"block"===i&&d&&(0,t.dispatch)("core/editor").setIsInserterOpened(!0)};return e&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"affx-upgrade-modal",onClick:c,children:(0,l.jsxs)("div",{className:"affx-upgrade-modal_inner",onClick:e=>{e.stopPropagation(),p()},children:[(0,l.jsxs)("div",{className:"affx-upgrade-modal_heading",children:[(0,l.jsx)("h3",{children:"amazon"===i?s:(0,l.jsxs)(l.Fragment,{children:[(0,n.__)("Enhance with ","affiliatex"),(0,l.jsx)("span",{children:(0,n.__)("Pro","affiliatex")}),(0,n.__)(" Blocks","affiliatex")]})}),(0,l.jsx)("div",{className:"btn_close",onClick:c,children:(0,l.jsx)(o.CloseIcon,{})})]}),(0,l.jsxs)("div",{className:"affx-upgrade-modal_body",children:[(0,l.jsxs)("div",{className:"affx-upgrade-modal_body_left",children:[r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:"block"===i?(0,n.sprintf)((0,n.__)("%s is one of our Pro blocks.","affiliatex"),r):(0,l.jsxs)(l.Fragment,{children:[(0,n.sprintf)((0,n.__)("%s is a ","affiliatex"),r),(0,l.jsx)("b",{children:(0,n.__)("premium","affiliatex")}),(0,n.__)(" feature.","affiliatex")]})}),(0,l.jsxs)("p",{children:[(0,n.__)("If you want to use it please kindly consider","affiliatex")," ",(0,l.jsx)("a",{href:"https://affiliatexblocks.com/pricing/?utm_source=plugin&utm_medium=editor&utm_campaign=pro_upgrade",target:"_blank",children:(0,n.__)("upgrading to pro","affiliatex")})," ",(0,n.__)("and unlock more exciting blocks and features.","affiliatex")]})]}),(0,l.jsxs)("div",{className:"affx-upgrade-modal_button_group",children:[f&&"block"===i&&(0,l.jsx)("a",{href:(0,n.sprintf)("https://affiliatexblocks.com/%s?utm_source=plugin&utm_medium=editor&utm_campaign=pro_block_demo_%s",f,f.replace(/-/g,"_")),target:"_blank",className:"affx-upgrade-modal_button affx-upgrade-modal_button_primary",children:(0,n.__)("View Demo","affiliatex")}),"amazon"===i&&(0,l.jsx)("a",{href:"https://affiliatexblocks.com/amazon-api-integration/?utm_source=plugin&utm_medium=editor&utm_campaign=amazon_popup",target:"_blank",className:"affx-upgrade-modal_button affx-upgrade-modal_button_primary",children:(0,n.__)("View Details","affiliatex")}),(0,l.jsx)("a",{href:"https://affiliatexblocks.com/pricing/?utm_source=plugin&utm_medium=editor&utm_campaign=pro_upgrade",target:"_blank",className:"affx-upgrade-modal_button affx-upgrade-modal_button_secondary",children:(0,n.__)("Upgrade Now","affiliatex")})]})]}),(0,l.jsx)("div",{className:"affx-upgrade-modal_body_right",children:(0,l.jsx)(o.ModalRocketIcon,{})})]})]})})})};(e=>{const a={init(){window.AffiliateX&&"true"!==window.AffiliateX.proActive&&a.initUpgradeModal(),a.bindEvents()},bindEvents(){window.AffiliateX&&"true"!==window.AffiliateX.proActive&&(e(document).on("click",".affx-action-button__amazon",a.triggerUpgradeModal),e(document).on("click",".affx-connect-all-wrapper",a.triggerUpgradeModal)),e(window).on("elementor:init",a.addConnectAllButton),e(document).on("error",function(e){if(e.originalEvent?.filename?.includes("wp-auth-check.js"))return!1})},initUpgradeModal(){e("body").append('<div id="affx-upgrade-modal-root"></div>');const a=document.getElementById("affx-upgrade-modal-root");a&&!a.hasChildNodes()&&i().createRoot(a).render((0,l.jsx)(d,{}))},triggerUpgradeModal(){window.wp.data.dispatch("affiliatex").setActiveModal("upgrade-modal"),window.wp.data.dispatch("affiliatex").setUpgradeModal({modalType:"amazon",modalTitle:(0,n.__)("Amazon Integration","affiliatex"),blockTitle:(0,n.__)("Amazon Integration","affiliatex")})},addConnectAllButton(){const a=["affiliatex-product-comparison","affiliatex-product-table","affiliatex-pros-and-cons","affiliatex-specifications","affiliatex-verdict","affiliatex-versus-line","affiliatex-versus"],i=["affiliatex-top-products","affiliatex-coupon-listing","affiliatex-coupon-grid"],t=(t,o)=>{if(t&&o&&o?.get("widgetType")&&o.get("widgetType").includes("affiliatex")&&!a.includes(o.get("widgetType"))&&"content"===t.getOption("tab")){const a=e(t.el).find(".elementor-panel-navigation");0===e(t.el).find(".affx-connect-all-wrapper").length&&(a.after(AffiliateX.connectAllButton),i.includes(o.get("widgetType"))&&e(t.el).find(".affx-connect-all-wrapper").hide())}};elementor.hooks.addAction("panel/open_editor/widget",t);const o=new WeakSet;elementor.hooks.addFilter("controls/base/behaviors",e=>{const a=elementor.getPanelView().getCurrentPageView();return a&&!o.has(a)&&(o.add(a),t(a,a.model)),e})}};a.init()})(jQuery),(affiliatexExports=void 0===affiliatexExports?{}:affiliatexExports).elementorEditor={}})();